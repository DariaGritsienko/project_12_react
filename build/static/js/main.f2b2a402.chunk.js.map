{"version":3,"sources":["components/Add.js","components/Article.js","components/News.js","App.js","index.js"],"names":["Add","state","name","text","bigText","checkbox","onBtnClickHandler","e","preventDefault","props","onAddNews","id","Date","author","handleChange","currentTarget","setState","value","handleCheckboxChange","checked","validate","trim","this","className","type","onChange","placeholder","onClick","disabled","React","Component","Article","visible","handleReadMoreClick","handleReadMoreHide","data","href","News","filteredNews","renderNews","length","map","item","key","nextFilteredNews","forEach","toLowerCase","indexOf","App","news","isLoading","handleAddNews","nextNews","fetch","then","response","json","Fragment","Array","isArray","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2b2a402.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Add extends React.Component {\r\n    state = {\r\n        name: '',\r\n        text: '',\r\n        bigText: '',\r\n        checkbox: false,\r\n    }\r\n\r\n    onBtnClickHandler = (e) => {\r\n        e.preventDefault()\r\n        const {name, text, bigText} = this.state\r\n        this.props.onAddNews({\r\n            id: +new Date(),\r\n            text,\r\n            author: name,\r\n            bigText,\r\n        })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { id } = e.currentTarget\r\n        this.setState({ [id]: e.currentTarget.value })\r\n    }\r\n    handleCheckboxChange = (e) => {\r\n        this.setState({checkbox: e.currentTarget.checked})\r\n    }\r\n    validate = () => {\r\n        const { name, text, checkbox } = this.state\r\n        if (name.trim() && text.trim() && checkbox) {\r\n            return true\r\n\r\n        }else return false\r\n    }\r\n    render(){\r\n        const { name, text, bigText } = this.state\r\n        return(\r\n            <form className='add'>\r\n                <input\r\n                    id='name'\r\n                    type='text'\r\n                    onChange={this.handleChange}\r\n                    className='add__author'\r\n                    placeholder='Ваше имя'\r\n                    value = {name}\r\n                />\r\n                <textarea\r\n                    id='text'\r\n                    onChange={this.handleChange}\r\n                    className='add__text'\r\n                    placeholder='Текст новости'\r\n                    value={text}\r\n                />\r\n                <textarea\r\n                    id = 'bigText'\r\n                    onChange={this.handleChange}\r\n                    className='add__text'\r\n                    placeholder='Текст новости подробно'\r\n                    value={bigText}\r\n                />\r\n                <label className='add__checkrule'>\r\n                    <input type='checkbox' onChange={this.handleCheckboxChange}/>\r\n                    Я согласен с правилами\r\n                </label>\r\n                <button\r\n                    className='add__btn'\r\n                    onClick={this.onBtnClickHandler}\r\n                    disabled={!this.validate()}\r\n                >\r\n                    Добавить новость\r\n                </button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nAdd.propTypes = {\r\n    onAddNews: PropTypes.func.isRequired,\r\n}\r\n\r\nexport {Add}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Article extends React.Component {\r\n    state = {\r\n        visible: false,\r\n    }\r\n    handleReadMoreClick = (e) => {\r\n        e.preventDefault()\r\n        this.setState({ visible: true })\r\n    }\r\n    handleReadMoreHide = (e) => {\r\n        e.preventDefault()\r\n        this.setState({ visible: false })\r\n    }\r\n    render() {\r\n        const { author, text, bigText } = this.props.data\r\n        const { visible } = this.state\r\n        return (\r\n            <div className=\"article\">\r\n                <p className=\"news__author\">{author}:</p>\r\n                <p className=\"news__text\">{text}</p>\r\n                {\r\n                    !visible && <a onClick={this.handleReadMoreClick} href=\"#readmore\" className='news__readmore'>Подробнее</a>\r\n                }\r\n                {\r\n                    visible && <p className=\"news__big-text\">{bigText}</p>\r\n                }\r\n                {\r\n                    visible && <a onClick={this.handleReadMoreHide} href=\"#readmore\" className='news__readmore_hide'>Скрыть</a>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nArticle.propTypes = {\r\n    data: PropTypes.shape({\r\n        author: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired,\r\n        text: PropTypes.string.isRequired,\r\n        bigText: PropTypes.string.isRequired\r\n    })\r\n}\r\n\r\nexport { Article };","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Article} from \"./Article\";\r\n\r\nclass News extends React.Component {\r\n    state = {\r\n        filteredNews: this.props.data,\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        let nextFilteredNews = [...props.data]\r\n        nextFilteredNews.forEach((item) => {\r\n            if (item.bigText.toLowerCase().indexOf('pubg') !== -1) {\r\n                item.bigText = 'СПАМ'\r\n            }\r\n        })\r\n        return {\r\n            filteredNews: nextFilteredNews,\r\n        }\r\n    }\r\n\r\n\r\n    renderNews = () => {\r\n        const { filteredNews } = this.state\r\n        let newsTemplate = null\r\n        if (filteredNews.length) {\r\n            newsTemplate = filteredNews.map(function(item) {\r\n                return <Article key={item.id} data={item} />\r\n            })\r\n        } else {\r\n            newsTemplate = <p>К сожалению новостей нет</p>\r\n        }\r\n        return newsTemplate\r\n    }\r\n    render() {\r\n        const { filteredNews } = this.state\r\n        return (\r\n            <div className=\"news\">\r\n                {this.renderNews()}\r\n                {filteredNews.length ? (\r\n                    <strong className={'news__count'}>\r\n                        Всего новостей: {filteredNews.length}\r\n                    </strong>\r\n                ) : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nNews.propTypes = {\r\n    data: PropTypes.array.isRequired\r\n}\r\n\r\nexport {News}","import React from \"react\";\r\nimport { Add } from './components/Add'\r\nimport { News } from './components/News'\r\nclass App extends React.Component {\r\n    state = {\r\n        news: null,\r\n        isLoading: false,\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        let nextFilteredNews\r\n        if (Array.isArray(state.news)) {\r\n            nextFilteredNews = [...state.news]\r\n            nextFilteredNews.forEach((item) => {\r\n                if (item.bigText.toLowerCase().indexOf('pubg') !== -1) {\r\n                    item.bigText = 'СПАМ'\r\n                }\r\n            })\r\n            return {\r\n                filteredNews: nextFilteredNews\r\n            }\r\n        }\r\n        return null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ isLoading: true })\r\n        fetch('http://localhost:3000/data/newsData.json')\r\n            .then(response => {\r\n                return response.json()\r\n            })\r\n            .then(data => {\r\n                this.setState({ isLoading: false, news: data })\r\n            })\r\n    }\r\n    handleAddNews = data => {\r\n        const nextNews = [data, ...this.state.news]\r\n        this.setState({ news: nextNews })\r\n    }\r\n    render() {\r\n        const { news, isLoading } = this.state\r\n        return (\r\n            <React.Fragment>\r\n                <Add onAddNews={this.handleAddNews} />\r\n                <h3>Новости</h3>\r\n                {isLoading && <p>Загружаю...</p>}\r\n                {Array.isArray(news) && <News data={news} />}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\nexport default App\r\n","import \"./styles.css\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}